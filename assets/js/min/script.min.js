!function(e){"use strict";var t;t={target:e("#cherry-composer"),ajaxRequest:null,init:function(){this.addEvents(this.target),jQuery.ajaxSetup({type:"POST",url:e("button",this.target).attr("formaction"),cache:!1})},addEvents:function(t){e("#download-theme",t).on("click",this.aJaxRequest)},aJaxRequest:function(a){var r=e(this),i=(r.text(),!1),n="";e("#message",t.target).css("visibility","hidden"),null!==t.ajaxRequest&&t.ajaxRequest.abort(),i=t.getFormData(e(t.target)),n=t.validateData(i),n.validate?t.ajaxRequest=jQuery.ajax({data:{form_data:i},beforeSend:function(){r.attr("disabled","disabled")},success:function(e){var a=e.toLowerCase();-1!==a.indexOf("error")||-1!==a.indexOf("warning")?t.errorNotice(e):(window.location.href+=e,r.removeAttr("disabled"))},error:function(e){t.errorNotice(e),r.removeAttr("disabled")}}):t.errorNotice("ERROR: Invalid filled"),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()},getFormData:function(t){var a={},r=t.serializeArray();return e(r).each(function(e,t){a[t.name]=t.value}),a},validateData:function(e){var t,a={validate:!0,inValidateField:[]};for(t in e)e[t]&&e.branch_name||(a.validate=!1,a.inValidateField[t]="error");return a},errorNotice:function(a){e("#message",t.target).css("visibility","visible").text(a)}},t.init()}(jQuery);